import { describe, it, expect, vi } from \'vitest\'\nimport axios from \'axios\'\nimport {\n  getProcessDefinitions,\n  getProcessDefinition,\n  saveProcessDefinition,\n  deleteProcessDefinition\n} from \'../processApi\'\n\n// Mock axios\nvi.mock(\'axios\', () => ({\n  default: {\n    get: vi.fn(),\n    post: vi.fn(),\n    delete: vi.fn(),\n  },\n}))\n\ndescribe(\'processApi\', () => {\n  // Reset mocks before each test\n  beforeEach(() => {\n    vi.clearAllMocks()\n  })\n\n  it(\'getProcessDefinitions should fetch all process definitions\', async () => {\n    const mockData = [{ id: \'1\', name: \'Process A\' }, { id: \'2\', name: \'Process B\' }]\n    axios.default.get.mockResolvedValueOnce({ data: mockData })\n\n    const result = await getProcessDefinitions()\n\n    expect(axios.default.get).toHaveBeenCalledWith(\'/api/process-definitions\')\n    expect(result.data).toEqual(mockData)\n  })\n\n  it(\'getProcessDefinition should fetch a single process definition by ID\', async () => {\n    const mockData = { id: \'1\', name: \'Process A\' }\n    axios.default.get.mockResolvedValueOnce({ data: mockData })\n\n    const result = await getProcessDefinition(\'1\')\n\n    expect(axios.default.get).toHaveBeenCalledWith(\'/api/process-definitions/1\')\n    expect(result.data).toEqual(mockData)\n  })\n\n  it(\'saveProcessDefinition should save a new process definition\', async () => {\n    const newProcess = { name: \'New Process\', nodes: [], edges: [] }\n    const mockResponse = { id: \'3\', ...newProcess }\n    axios.default.post.mockResolvedValueOnce({ data: mockResponse })\n\n    const result = await saveProcessDefinition(newProcess)\n\n    expect(axios.default.post).toHaveBeenCalledWith(\'/api/process-definitions\', newProcess)\n    expect(result.data).toEqual(mockResponse)\n  })\n\n  it(\'saveProcessDefinition should update an existing process definition\', async () => {\n    const existingProcess = { id: \'1\', name: \'Updated Process\', nodes: [], edges: [] }\n    axios.default.post.mockResolvedValueOnce({ data: existingProcess })\n\n    const result = await saveProcessDefinition(existingProcess)\n\n    expect(axios.default.post).toHaveBeenCalledWith(\'/api/process-definitions\', existingProcess)\n    expect(result.data).toEqual(existingProcess)\n  })\n\n  it(\'deleteProcessDefinition should delete a process definition by ID\', async () => {\n    const processIdToDelete = \'1\'\n    axios.default.delete.mockResolvedValueOnce({ status: 204 })\n\n    const result = await deleteProcessDefinition(processIdToDelete)\n\n    expect(axios.default.delete).toHaveBeenCalledWith(\`/api/process-definitions/${processIdToDelete}\`)\n    expect(result.status).toBe(204)\n  })\n}) 